const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/entries/src_pages_-id.AeAt5vYx.js","assets/chunks/chunk-3wF-L4UY.js","assets/static/Layout.D0EWC-IV.css","assets/chunks/chunk-BHcD0oH2.js","assets/entries/src_pages_error.BuI8pM7F.js","assets/entries/src_pages_favorites.CfQr-S6G.js","assets/chunks/chunk-5Ae__q1k.js","assets/entries/src_pages_index.DrP-kgE9.js"])))=>i.map(i=>d[i]);
function e(e){return Array.from(new Set(e))}const t={projectName:"Vike",projectVersion:"0.4.181"},n=`_${t.projectName.toLowerCase()}`;function o(e,t){const o=globalThis[n]=globalThis[n]||{};return o[e]=o[e]||t}const r=new Proxy({},{get:(e,t)=>e=>"code"===t?`\`${e}\``:"string"===t?`'${e}'`:e}),i=o("assertPackageInstances.ts",{instances:[],alreadyLogged:new Set}),a="Two vike client runtime instances are being loaded. Make sure your client-side bundles don't include vike twice. (In order to reduce the size of your client-side JavaScript bundles.)";function s(){{const t=e(i.instances);!function(e,t){if(!e)throw new Error(`[vike][Wrong Usage] ${t}`)}(t.length<=1,`vike@${r.bold(t[0])} and vike@${r.bold(t[1])} loaded but only one version should be loaded`)}i.checkSingleInstance&&i.instances.length>1&&l(!1,a,{onlyOnce:!0,showStackTrace:!0})}function l(e,t,{onlyOnce:n,showStackTrace:o}){if(e)return;const r=`[vike][Warning] ${t}`;if(n){const{alreadyLogged:e}=i,t=!0===n?r:n;if(e.has(t))return;e.add(t)}}function u(e,t){const n=new Error(e);return"undefined"!=typeof process&&process.cwd&&process.versions&&void 0!==process.versions.node&&process.release&&"node"===process.release.name&&(n.stack=function(e,t){if(!e)return e;const n=e.split(/\r?\n/);let o=0;return n.filter((e=>{return!(e.includes(" (internal/")||e.includes(" (node:internal")||o<t&&(n=e,n.startsWith("    at "))&&(o++,1));var n})).join("\n")}(n.stack,t)),n}function c(e){return"object"==typeof e&&null!==e}const d=o("utils/assert.ts",{alreadyLogged:new Set,logger(e,t){},showStackTraceList:new WeakSet});i.instances.push(t.projectVersion),s();const f="[vike]",g=`[vike@${t.projectVersion}]`,p=2;function h(e,t){var n;if(e)return;const o=(()=>{if(!t)return null;const e="string"==typeof t?t:JSON.stringify(t);return r.dim(`Debug info (for Vike maintainers; you can ignore this): ${e}`)})();let i=[`You stumbled upon a Vike bug. Go to ${r.blue("https://github.com/vikejs/vike/issues/new")} and copy-paste this error. A maintainer will fix the bug (usually under 24 hours).`,o].filter(Boolean).join(" ");i=b(i),i=w(i,"Bug"),i=S(i,!0);const a=u(i,p);throw null==(n=d.onBeforeLog)||n.call(d),a}function y(e,t,{showStackTrace:n}={}){var o;if(e)return;n=n||d.alwaysShowStackTrace;const r=u(t=S(t=w(t=b(t),"Wrong Usage")),p);throw n&&d.showStackTraceList.add(r),null==(o=d.onBeforeLog)||o.call(d),r}function m(e){return u(e=S(e=w(e=b(e),"Error")),p)}function v(e,t,{onlyOnce:n,showStackTrace:o}){var r;if(!e){if(o=o||d.alwaysShowStackTrace,t=S(t=w(t=b(t),"Warning")),n){const{alreadyLogged:e}=d,o=!0===n?t:n;if(e.has(o))return;e.add(o)}if(null==(r=d.onBeforeLog)||r.call(d),o){const e=u(t,p);d.showStackTraceList.add(e),d.logger(e,"warn")}else d.logger(t,"warn")}}function w(e,t){let n=`[${t}]`;const o="Warning"===t?"yellow":"red";return n=r.bold(r[o](n)),`${n}${e}`}function b(e){return e.startsWith("[")?e:` ${e}`}function S(e,t=!1){return`${t?g:f}${e}`}function P(){return"undefined"!=typeof window&&"number"==typeof window.scrollY}const C=o("utils/assertRouterType.ts",{});function x(){var e;e=!1!==C.isClientRouting,y(P(),`${r.cyan("import { something } from 'vike/client/router'")} is forbidden on the server-side`,{showStackTrace:!0}),v(e,"You shouldn't `import { something } from 'vike/client/router'` when using Server Routing. The 'vike/client/router' utilities work only with Client Routing. In particular, don't `import { navigate }` nor `import { prefetch }` as they unnecessarily bloat your client-side bundle sizes.",{showStackTrace:!0,onlyOnce:!0}),C.isClientRouting=!0}function $(e,t,n){return"string"==typeof e?E(e.split(""),t,n).join(""):E(e,t,n)}function E(e,t,n){const o=[];let r=t>=0?t:e.length+t;h(r>=0&&r<=e.length);let i=n>=0?n:e.length+n;for(h(i>=0&&i<=e.length);r!==i&&(r===e.length&&(r=0),r!==i);){const t=e[r];h(void 0!==t),o.push(t),r++}return o}function _(e,t){h(j(e),e),h(t.startsWith("/"));const[n,...o]=e.split("#");h(void 0!==n);const r=["",...o].join("#")||null;h(null===r||r.startsWith("#"));const i=null===r?"":R(r.slice(1)),[a,...s]=n.split("?");h(void 0!==a);const l=["",...s].join("?")||null;h(null===l||l.startsWith("?"));const u={},c={};Array.from(new URLSearchParams(l||"")).forEach((([e,t])=>{u[e]=t,c[e]=[...c.hasOwnProperty(e)?c[e]:[],t]}));let{protocol:d,origin:f,pathnameAbsoluteWithBase:g}=function(e,t){var n;h(!e.includes("?")&&!e.includes("#"));{const{protocol:t,origin:n,pathname:o}=T(e);if(n)return{protocol:t,origin:n,pathnameAbsoluteWithBase:o};h(o===e)}if(e.startsWith("/"))return{protocol:null,origin:null,pathnameAbsoluteWithBase:e};{const o="undefined"!=typeof window?null==(n=null==window?void 0:window.document)?void 0:n.baseURI:void 0;let r;r=o?T(o.split("?")[0]).pathname:t;return{protocol:null,origin:null,pathnameAbsoluteWithBase:function(e,t){const n=t.split("/"),o=e.split("/");let r=t.endsWith("/");e.startsWith(".")&&n.pop();for(const a in o){const e=o[a];""==e&&"0"===a||"."!=e&&(".."==e?n.pop():(r=!1,n.push(e)))}let i=n.join("/");return r&&!i.endsWith("/")&&(i+="/"),i.startsWith("/")||(i="/"+i),i}(e,r)}}}(a,t);const p=a.slice((f||"").length);h(e===I(f,p,l,r));let{pathname:y,hasBaseServer:m}=function(e,t){h(e.startsWith("/")),h(F(t));let n=e;if(h(n.startsWith("/")),h(t.startsWith("/")),"/"===t)return{pathname:e,hasBaseServer:!0};let o=t;return t.endsWith("/")&&n===$(t,0,-1)&&(o=$(t,0,-1),h(n===o)),n.startsWith(o)?(h(n.startsWith("/")||n.startsWith("http")),h(n.startsWith(o)),n=n.slice(o.length),n.startsWith("/")||(n="/"+n),h(n.startsWith("/")),{pathname:n,hasBaseServer:!0}):{pathname:e,hasBaseServer:!1}}(g,t);const v=I(f,y,l,r),w=f?f.slice(d.length):null,{hostname:b,port:S}=function(e,t){const n={hostname:null,port:null};if(!e)return n;const[o,...r]=e.split(":");if(n.hostname=o,r.length>0){h(1===r.length,t);const e=r[0],o=parseInt(e,10);h(o||0===o,t),n.port=o}return n}(w,e);return y=y.replace(/\s+$/,"").split("/").map((e=>R(e).split("/").join("%2F"))).join("/"),h(y.startsWith("/")),{href:v,protocol:d,hostname:b,port:S,origin:f,pathname:y,pathnameOriginal:p,hasBaseServer:m,search:u,searchAll:c,searchOriginal:l,hash:i,hashOriginal:r}}function R(e){try{return decodeURIComponent(e)}catch{}try{return decodeURI(e)}catch{}return e}function T(e){if(N(e)){const{protocol:t,uriWithoutProtocol:n}=k(e);h(t);const[o,...r]=n.split("/"),i=t+o;return{pathname:"/"+r.join("/"),origin:i,protocol:t}}return{pathname:e,origin:null,protocol:null}}function k(e){const[t,...n]=e.split(":");if(0===n.length||!/^[a-z][a-z0-9\+\-]*$/i.test(t))return{protocol:null,uriWithoutProtocol:e};let o=t+":",r=n.join(":");return r.startsWith("//")&&(o+="//",r=r.slice(2)),{protocol:o,uriWithoutProtocol:r}}function O(e){return!["ipfs://","ipns://"].includes(e)&&e.endsWith("://")}function F(e){return e.startsWith("/")}function I(e,t,n,o){return`${e||""}${t}${n||""}${o||""}`}function j(e){return N(e)||e.startsWith("/")||A(e)}function A(e){return[".","?","#"].some((t=>e.startsWith(t)))||""===e}function N(e){const{protocol:t}=k(e);return!!t&&O(t)}function L(e,t){!function(e,t,{allowRelative:n,isRedirectTarget:o}={}){if(e.startsWith("/"))return;let i=`${t} is ${r.string(e)} but it should start with ${r.string("/")}`;if(o){if(function(e){return e.startsWith("/")||function(e){const{protocol:t}=k(e);return!!t&&!O(e)}(e)||N(e)}(e))return;if(i+=` or a protocol (${r.string("http://")}, ${r.string("mailto:")}, ...)`,"unresolved"===o){if("*"===e)return;i+=`, or be ${r.string("*")}`}}if(n){if(A(e))return;i+=", or be a relative URL"}y(!1,i)}(e,t)}function W(e,t){t&&(h(!("_isPageContextObject"in t)),Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)))}function B(e){return e instanceof Function||"function"==typeof e}function D(e){return(t,n)=>{const o=e(t),r=e(n);return o===r?0:o>r?-1:1}}function V(e){return(t,n)=>{const o=e(t),r=e(n);return h([!0,!1,null].includes(o)),h([!0,!1,null].includes(r)),o===r?0:!0===o||!1===r?-1:!0===r||!1===o?1:void h(!1)}}function z(e){return Array.isArray(e)}function H(e,t,n){if(!c(e))return!1;if(!(t in e))return"undefined"===n;if(void 0===n)return!0;const o=e[t];return"undefined"===n?void 0===o:"array"===n?z(o):"object"===n?c(o):"string[]"===n?z(i=o)&&i.every((e=>"string"==typeof e)):"string{}"===n?c(r=o)&&Object.values(r).every((e=>"string"==typeof e)):"function"===n?B(o):z(n)?"string"==typeof o&&n.includes(o):"null"===n?null===o:"true"===n?!0===o:"false"===n?!1===o:typeof o===n;var r,i}function U(e){return"object"==typeof e&&null!==e&&(null===Object.getPrototypeOf(e)||"Object"===e.constructor.name)}const G=e=>null!=e;function M(e){return"["+e.map((e=>"'"+e+"'")).join(", ")+"]"}function Y(e){const t=e=>`Not a posix path: ${e}`;h(null!==e,t("null")),h("string"==typeof e,t(`typeof path === ${JSON.stringify(typeof e)}`)),h(""!==e,t("(empty string)")),h(e),h(!e.includes("\\"),t(e))}function J(e,t){const n=Object.getOwnPropertyDescriptor(e,t);return!!n&&!("value"in n)&&!!n.get}function K(e,t,n){const o=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(e,t,{...o,enumerable:n})}function q(e,t,{get:n,...o}){Object.defineProperty(e,t,{...o,get:n})}const X=["clientRouting"],Q=["render","clientRouting","prerender","doNotPrerender"];function Z(e){const t=".page.",n=$(e.split(t),0,-1).join(t);return h(!n.includes("\\")),n}function ee(e){Y(e)}function te(e,t){return h(!e.includes("\\")),e.includes("/_error")}const ne=["js","ts","cjs","cts","mjs","mts"],oe=["vue","svelte","marko","md","mdx"],re=[...ne,"jsx","tsx","cjsx","ctsx","mjsx","mtsx",...oe];function ie(e){const t=re.some((t=>e.endsWith("."+t)));return function(e){const t=/\.(c|m)?(j|t)s$/.test(e);return h(t===ne.some((t=>e.endsWith("."+t)))),t}(e)&&h(t),t}const ae=[".page",".page.server",".page.route",".page.client",".css"];function se(e){const t=function(e){if(Y(e),e.endsWith(".css"))return".css";h(ie(e),e);const t=e.split("/").slice(-1)[0].split("."),n=t.slice(-3)[0],o=t.slice(-2)[0];return"page"===o?".page":(h("page"===n,e),"server"===o?".page.server":"client"===o?".page.client":"route"===o?".page.route":void h(!1,e))}(e),n={filePath:e,fileType:t,isEnv:e=>(h(".page.route"!==t),"CLIENT_ONLY"===e?".page.client"===t||".css"===t:"SERVER_ONLY"===e?".page.server"===t:"CLIENT_AND_SERVER"===e?".page"===t:void h(!1)),isRelevant:e=>n.pageId===e||n.isDefaultPageFile&&(ue(n.filePath)||function(e,t){ee(e),ee(t),h(!e.endsWith("/")),h(!t.endsWith("/")),h(le(t));const n=$(t.split("/"),0,-1).filter((e=>"_default"!==e)).join("/");return e.startsWith(n)}(e,n.filePath)),isDefaultPageFile:le(e),isRendererPageFile:".css"!==t&&le(e)&&ue(e),isErrorPageFile:te(e),pageId:Z(e)};return n}function le(e){return ee(e),!te(e)&&e.includes("/_default")}function ue(e){return ee(e),e.includes("/renderer/")}function ce(e,t,n){return n?`${de(e,t)} at ${fe(n,t)}`:`${de(e,t)} internally`}function de(e,t){return`${e} ${r.cyan(t)} defined`}function fe(e,t){let n;n=z(e)?e:[e],h(n.length>=1);return n.map((e=>{const{filePathToShowToUser:n,fileExportPathToShowToUser:o}=e;let i=n;const a=function(e,t){if(!e)return null;let[n,...o]=e;if(!n)return null;if(0===o.length&&["*","default",t].includes(n))return null;h("*"!==n);let r="",i="";return"default"===n?r="export default":(r="export",o=[n,...o]),o.forEach((e=>{r=`${r} { ${e}`,i=` }${i}`})),r+i}(o,t);return a&&(i=`${i} > ${r.cyan(a)}`),i})).join(" / ")}const ge=[{is:e=>void 0===e,match:e=>"!undefined"===e,serialize:()=>"!undefined",deserialize:()=>{}},{is:e=>e===1/0,match:e=>"!Infinity"===e,serialize:()=>"!Infinity",deserialize:()=>1/0},{is:e=>e===-1/0,match:e=>"!-Infinity"===e,serialize:()=>"!-Infinity",deserialize:()=>-1/0},{is:e=>"number"==typeof e&&isNaN(e),match:e=>"!NaN"===e,serialize:()=>"!NaN",deserialize:()=>NaN},{is:e=>e instanceof Date,match:e=>e.startsWith("!Date:"),serialize:e=>"!Date:"+e.toISOString(),deserialize:e=>new Date(e.slice(6))},{is:e=>"bigint"==typeof e,match:e=>e.startsWith("!BigInt:"),serialize:e=>"!BigInt:"+e.toString(),deserialize:e=>{if("undefined"==typeof BigInt)throw new Error("Your JavaScript environement does not support BigInt. Consider adding a polyfill.");return BigInt(e.slice(8))}},{is:e=>e instanceof RegExp,match:e=>e.startsWith("!RegExp:"),serialize:e=>"!RegExp:"+e.toString(),deserialize:e=>{const t=(e=e.slice(8)).match(/\/(.*)\/(.*)?/),n=t[1],o=t[2];return new RegExp(n,o)}},{is:e=>e instanceof Map,match:e=>e.startsWith("!Map:"),serialize:(e,t)=>"!Map:"+t(Array.from(e.entries())),deserialize:(e,t)=>new Map(t(e.slice(5)))},{is:e=>e instanceof Set,match:e=>e.startsWith("!Set:"),serialize:(e,t)=>"!Set:"+t(Array.from(e.values())),deserialize:(e,t)=>new Set(t(e.slice(5)))},{is:e=>"string"==typeof e&&e.startsWith("!"),match:e=>e.startsWith("!"),serialize:e=>"!"+e,deserialize:e=>e.slice(1)}];function pe(e){return he(JSON.parse(e))}function he(e){return"string"==typeof e?function(e){for(const{match:t,deserialize:n}of ge)if(t(e))return n(e,pe);return e}(e):("object"==typeof e&&null!==e&&Object.entries(e).forEach((([t,n])=>{e[t]=he(n)})),e)}const ye=["$$registrations","_rerender_only"],me=[".md",".mdx"];function ve(e){return function(e){const t={};return Object.entries(e).forEach((([e,o])=>{let r;if("cumulative"===o.type){const{valueSerialized:t,...i}=o;r={value:t.map(((t,r)=>{const{value:i,sideExports:a}=we(t,e,(()=>{const e=o.definedAtData[r];return h(e),e}));return n(a),i})),...i}}else{const{valueSerialized:t,...i}=o,{value:a,sideExports:s}=we(t,e,(()=>(h("computed"!==o.type),o.definedAtData)));n(s),r={value:a,...i}}t[e]=r})),t;function n(e){e.forEach((e=>{const{configName:n,configValue:o}=e;t[n]||(t[n]=o)}))}}(e)}function we(e,t,n){if("js-serialized"===e.type){let{value:t}=e;return t=he(t),{value:t,sideExports:[]}}if("pointer-import"===e.type){const{value:t}=e;return{value:t,sideExports:[]}}if("plus-file"===e.type){const o=n(),{exportValues:i}=e;let a;!function(e,t,n){const o=Object.keys(e).filter((e=>!ye.includes(e))),i=e=>"default"===e||e===n,a=o.filter(i),s=o.filter((e=>!i(e)));if(1===a.length&&0===s.length)return;const l=r.code("export default"),u=r.code(`export { ${n} }`);0===a.length&&y(!1,`${t} should have a ${u} or ${l}`),2===a.length&&v(!1,`${t} is ambiguous: remove ${l} or ${u}`,{onlyOnce:!0}),h(1===a.length),h(s.length>0),me.some((e=>t.endsWith(e)))||s.forEach((e=>{v(!1,`${t} unexpected ${r.cyan(`export { ${e} }`)}`,{onlyOnce:!0})}))}(i,o.filePathToShowToUser,t);let s=!1;const l=[];return Object.entries(i).forEach((([e,n])=>{"default"!==e&&e!==t?l.push({configName:e,configValue:{type:"standard",value:n,definedAtData:{filePathToShowToUser:o.filePathToShowToUser,fileExportPathToShowToUser:[e]}}}):(a=n,h(!s),s=!0)})),h(s),{value:a,sideExports:l}}h(!1)}function be(e){h(H(e,"pageFilesLazy","object")),h(H(e,"pageFilesEager","object")),h(H(e,"pageFilesExportNamesLazy","object")),h(H(e,"pageFilesExportNamesEager","object")),h(H(e.pageFilesLazy,".page")),h(H(e.pageFilesLazy,".page.client")||H(e.pageFilesLazy,".page.server")),h(H(e,"pageFilesList","string[]")),h(H(e,"pageConfigsSerialized")),h(H(e,"pageConfigGlobalSerialized"));const{pageConfigsSerialized:t,pageConfigGlobalSerialized:n}=e;var o;h(z(o=t)),o.forEach((e=>{h(c(e)),h(H(e,"pageId","string")),h(H(e,"routeFilesystem")),h(H(e,"configValuesSerialized"))})),function(e){h(H(e,"configValuesSerialized"))}(n);const{pageConfigs:r,pageConfigGlobal:i}=function(e,t){const n=e.map((e=>{const t=ve(e.configValuesSerialized),{pageId:n,isErrorPage:o,routeFilesystem:r,loadConfigValuesAll:i}=e;return function(e){const t="route",n=e[t];if(!n)return;const{value:o,definedAtData:r}=n,i=typeof o;h(r);const a=(l=r,`${de("Config",s=t)} at ${fe(l,s)}`);var s,l;y("string"===i||B(o),`${a} has an invalid type '${i}': it should be a string or a function instead, see https://vike.dev/route`)}(t),{pageId:n,isErrorPage:o,routeFilesystem:r,configValues:t,loadConfigValuesAll:i}})),o={configValues:{}};{const e=ve(t.configValuesSerialized);Object.assign(o.configValues,e)}return{pageConfigs:n,pageConfigGlobal:o}}(t,n),a={};Se(e.pageFilesLazy).forEach((({filePath:e,pageFile:t,globValue:n})=>{t=a[e]=a[e]??t;const o=n;Pe(o),t.loadFile=async()=>{var e;"fileExports"in t||(t.fileExports=await o(),e=t,X.forEach((t=>{if(h(e.fileExports),!(t in e.fileExports))return;const n=`The value of \`${t}\` is only allowed to be \`true\`.`;y(!1!==e.fileExports[t],`${e.filePath} has \`export { ${t} }\` with the value \`false\` which is prohibited: remove \`export { ${t} }\` instead. (${n})`),y(!0===e.fileExports[t],`${e.filePath} has \`export { ${t} }\` with a forbidden value. ${n}`)})))}})),Se(e.pageFilesExportNamesLazy).forEach((({filePath:e,pageFile:t,globValue:n})=>{t=a[e]=a[e]??t;const o=n;Pe(o),t.loadExportNames=async()=>{if(!("exportNames"in t)){const e=await o();h(H(e,"exportNames","string[]"),t.filePath),t.exportNames=e.exportNames}}})),Se(e.pageFilesEager).forEach((({filePath:e,pageFile:t,globValue:n})=>{t=a[e]=a[e]??t;const o=n;h(c(o)),t.fileExports=o})),Se(e.pageFilesExportNamesEager).forEach((({filePath:e,pageFile:t,globValue:n})=>{t=a[e]=a[e]??t;const o=n;h(c(o)),h(H(o,"exportNames","string[]"),t.filePath),t.exportNames=o.exportNames})),e.pageFilesList.forEach((e=>{a[e]=a[e]??se(e)}));const s=Object.values(a);return s.forEach((({filePath:e})=>{h(!e.includes("\\"))})),{pageFiles:s,pageConfigs:r,pageConfigGlobal:i}}function Se(e){const t=[];return Object.entries(e).forEach((([e,n])=>{h(ae.includes(e)),h(c(n)),Object.entries(n).forEach((([n,o])=>{const r=se(n);h(r.fileType===e),t.push({filePath:n,pageFile:r,globValue:o})}))})),t}function Pe(e){h(B(e))}const Ce=o("setPageFiles.ts",{});function xe(e,t){return Ee(e,t,!0)}function $e(e,t){return Ee(e,t,!1)}function Ee(e,t,n){const o=n?"CLIENT_ONLY":"SERVER_ONLY",r=e.filter((e=>e.isRelevant(t)&&".page.route"!==e.fileType)).sort(function(e,t){const n=e?"CLIENT_ONLY":"SERVER_ONLY";return(e,o)=>{if(!e.isDefaultPageFile&&o.isDefaultPageFile)return-1;if(!o.isDefaultPageFile&&e.isDefaultPageFile)return 1;{const t=e.isRendererPageFile,n=o.isRendererPageFile;if(!t&&n)return-1;if(!n&&t)return 1;h(t===n)}{const n=_e(t,e.filePath),r=_e(t,o.filePath);if(n<r)return-1;if(r<n)return 1;h(n===r)}return e.isEnv(n)&&o.isEnv("CLIENT_AND_SERVER")?-1:o.isEnv(n)&&e.isEnv("CLIENT_AND_SERVER")?1:0}}(n,t)),i=e=>{const n=r.filter((n=>n.pageId===t&&n.isEnv(e?"CLIENT_AND_SERVER":o)));y(n.length<=1,`Merge the following files into a single file: ${n.map((e=>e.filePath)).join(" ")}`);const i=n[0];return h(void 0===i||!i.isDefaultPageFile),i},a=i(!1),s=i(!0),l=e=>r.filter((t=>t.isRendererPageFile&&t.isEnv(e?"CLIENT_AND_SERVER":o)))[0],u=l(!1),c=l(!0);return[a,s,...r.filter((e=>e.isDefaultPageFile&&!e.isRendererPageFile&&(e.isEnv(o)||e.isEnv("CLIENT_AND_SERVER")))),u,c].filter(G)}function _e(e,t){ee(e),ee(t);let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);const o=e.slice(n),r=t.slice(n);return o.split("/").length+r.split("/").length}function Re(e,t){const n=t.find((t=>t.pageId===e));return h(t.length>0),h(n),n}function Te(e){if(!e||z(e))return null;const{filePathToShowToUser:t}=e;return h(t),t}const ke={},Oe=function(e,t,n){let o=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),n=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));o=Promise.all(t.map((e=>{if((e="/"+e)in ke)return;ke[e]=!0;const t=e.endsWith(".css"),o=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${o}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script",r.crossOrigin=""),r.href=e,n&&r.setAttribute("nonce",n),document.head.appendChild(r),t?new Promise(((t,n)=>{r.addEventListener("load",t),r.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}return o.then((()=>e())).catch((e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}))},Fe={},Ie={},je={},Ae={},Ne=[{pageId:"/src/pages/@id",isErrorPage:void 0,routeFilesystem:{routeString:"/@id",definedBy:"/src/pages/@id/"},loadConfigValuesAll:()=>Oe((()=>import("./src_pages_-id.AeAt5vYx.js")),__vite__mapDeps([0,1,2,3])),configValuesSerialized:{clientEntryLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},clientRouting:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/config",fileExportPathToShowToUser:["default","clientRouting"]},valueSerialized:{type:"js-serialized",value:!0}}}},{pageId:"/src/pages/_error",isErrorPage:!0,routeFilesystem:void 0,loadConfigValuesAll:()=>Oe((()=>import("./src_pages_error.BuI8pM7F.js")),__vite__mapDeps([4,1,2])),configValuesSerialized:{clientEntryLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},clientRouting:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/config",fileExportPathToShowToUser:["default","clientRouting"]},valueSerialized:{type:"js-serialized",value:!0}}}},{pageId:"/src/pages/favorites",isErrorPage:void 0,routeFilesystem:{routeString:"/favorites",definedBy:"/src/pages/favorites/"},loadConfigValuesAll:()=>Oe((()=>import("./src_pages_favorites.CfQr-S6G.js")),__vite__mapDeps([5,1,2,6])),configValuesSerialized:{clientEntryLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},clientRouting:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/config",fileExportPathToShowToUser:["default","clientRouting"]},valueSerialized:{type:"js-serialized",value:!0}}}},{pageId:"/src/pages/index",isErrorPage:void 0,routeFilesystem:{routeString:"/",definedBy:"/src/pages/index/"},loadConfigValuesAll:()=>Oe((()=>import("./src_pages_index.DrP-kgE9.js")),__vite__mapDeps([7,1,2,6,3])),configValuesSerialized:{clientEntryLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},clientRouting:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/config",fileExportPathToShowToUser:["default","clientRouting"]},valueSerialized:{type:"js-serialized",value:!0}}}}],Le={...Object.assign({})};Fe[".page"]=Le;const We={...Object.assign({})};je[".page"]=We;const Be={...Object.assign({})};je[".page.server"]=Be;const De={...Object.assign({})};Ie[".page.route"]=De;const Ve={...Object.assign({})};Fe[".page.client"]=Ve;const ze={...Object.assign({})};je[".page.client"]=ze;const He={...Object.assign({})};function Ue(){h(P())}function Ge(e){const t=e/1e3;if(t<120){const e=Me(t);return`${e} second${Ye(e)}`}{const e=Me(t/60);return`${e} minute${Ye(e)}`}}function Me(e){let t=e.toFixed(1);return t.endsWith(".0")&&(t=t.slice(0,-2)),t}function Ye(e){return"1"===e?"":"s"}Ae[".page.server"]=He,function(e){const{pageFiles:t,pageConfigs:n,pageConfigGlobal:o}=be(e);Ce.pageFilesAll=t,Ce.pageConfigs=n,Ce.pageConfigGlobal=o}(Object.freeze(Object.defineProperty({__proto__:null,neverLoaded:Ae,pageConfigGlobalSerialized:{configValuesSerialized:{}},pageConfigsSerialized:Ne,pageFilesEager:Ie,pageFilesExportNamesEager:je,pageFilesExportNamesLazy:{},pageFilesLazy:Fe,pageFilesList:[]},Symbol.toStringTag,{value:"Module"})));const Je=o("utils/executeHook.ts",{userHookErrors:new WeakMap,pageContext:null});function Ke(e,t,n){const{hookName:o,hookFilePath:r,hookTimeout:{error:i,warning:a}}=t;let s,l;const u=new Promise(((e,t)=>{s=t=>{d(),e(t)},l=e=>{d(),t(e)}})),d=()=>{f&&clearTimeout(f),g&&clearTimeout(g)},f=qe(a)&&setTimeout((()=>{v(!1,`The ${o}() hook defined by ${r} is slow: it's taking more than ${Ge(a)} (https://vike.dev/hooksTimeout)`,{onlyOnce:!1})}),a),g=qe(i)&&setTimeout((()=>{const e=m(`The ${o}() hook defined by ${r} timed out: it didn't finish after ${Ge(i)} (https://vike.dev/hooksTimeout)`);l(e)}),i);return(async()=>{try{t=n,Je.pageContext=t,Promise.resolve().then((()=>{Je.pageContext=null}));const o=await e();s(o)}catch(t){c(t)&&Je.userHookErrors.set(t,{hookName:o,hookFilePath:r}),l(t)}var t})(),u}function qe(e){return!!e&&e!==1/0}function Xe(e){const t=window.location.href,{searchOriginal:n,hashOriginal:o,pathname:r}=_(t,"/");let i;return i=(null==e?void 0:e.withoutHash)?`${r}${n||""}`:`${r}${n||""}${o||""}`,h(i.startsWith("/")),i}function Qe(e,t){return!(!c(e)||!c(t))&&e.message===t.message}function Ze(e){window.location.href=e}function et(e){return new Promise((t=>setTimeout(t,e)))}function tt(e){window.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&e()}))}function nt(e,t){h(e===t)}function ot(){let e=window.history.state;e||(e={_isVikeEnhanced:!0});let t=!1;"timestamp"in e||(t=!0,e.timestamp=at()),"scrollPosition"in e||(t=!0,e.scrollPosition=it()),"triggeredBy"in e||(e.triggeredBy="browser"),lt(e),t&&ut(e)}function rt(){const e=window.history.state||{};return lt(e),e}function it(){return{x:window.scrollX,y:window.scrollY}}function at(){return(new Date).getTime()}function st(){const e=it();ut({...rt(),scrollPosition:e})}function lt(e){if(h(c(e)),"timestamp"in e){const{timestamp:t}=e;h("number"==typeof t)}if("scrollPosition"in e){const{scrollPosition:t}=e;null!==t&&h(H(t,"x","number")&&H(t,"y","number"))}}function ut(e,t){const n=t??null;window.history.replaceState(e,"",n)}function ct(e,t,n){const o=e.configValues[t];return o?function(e,t,n){const{value:o,definedAtData:i}=e;return n&&function(e,t,n,o){h(null!==e);const i=typeof e;if(i===t)return;const a=[null,void 0].includes(l=e)?String(l):["boolean","number","string"].includes(typeof l)?JSON.stringify(l):null,s=null!==a?`value ${r.cyan(a)}`:`type ${r.cyan(i)}`;var l;y(!1,`${ce("Config",n,o)} has an invalid ${s}: it should be a ${r.cyan(t)} instead`)}(o,n,t,i),e}(o,t,n):null}Ue(),Ue(),x();const dt=o("getHook.ts",{isPrerendering:!1});function ft(e,t){if(!(t in e.exports))return null;const{hooksTimeout:n}=e.config,o=function(e,t){const n=function(e){if(void 0===e)return{};if(!1===e)return!1;y(c(e),`Setting ${r.cyan("hooksTimeout")} should be ${r.cyan("false")} or an object`);const t={};return Object.entries(e).forEach((([e,n])=>{if(!1===n)return void(t[e]={error:!1,warning:!1});y(c(n),`Setting ${r.cyan(`hooksTimeout.${e}`)} should be ${r.cyan("false")} or an object`);const[o,i]=["error","warning"].map((t=>{const o=n[t];if(void 0===o||!1===o)return o;const i=`Setting ${r.cyan(`hooksTimeout.${e}.${t}`)} should be`;return y("number"==typeof o,`${i} ${r.cyan("false")} or a number`),y(o>0,`${i} a positive number`),o}));t[e]={error:o,warning:i}})),t}(e);if(!1===n)return{error:!1,warning:!1};const o=n[t],i=yt(t);return void 0!==(null==o?void 0:o.error)&&(i.error=o.error),void 0!==(null==o?void 0:o.warning)&&(i.warning=o.warning),i}(n,t),i=e.exports[t],a=e.exportsAll[t][0];if(h(a.exportValue===i),null===i)return null;const s=a.filePath;return h(s),h(!s.endsWith(" ")),ht(i,{hookName:t,hookFilePath:s}),{hookFn:i,hookName:t,hookFilePath:s,hookTimeout:o}}function gt(e,t){const n=e.configValues[t];if(!n)return null;const o=n.value;if(!o)return null;const r=function(e){const t=Te(e);return h(t),t}(n.definedAtData);return h(r),ht(o,{hookName:t,hookFilePath:r}),{hookFn:o,hookName:t,hookFilePath:r,hookTimeout:yt(t)}}function pt(e,t){ft(e,t)}function ht(e,{hookName:t,hookFilePath:n}){h(t&&n),h(!t.endsWith(")")),y(B(e),`Hook ${t}() defined by ${n} should be a function`)}function yt(e){return"onBeforeRoute"===e?{error:5e3,warning:1e3}:dt.isPrerendering?{error:12e4,warning:3e4}:(h(!e.toLowerCase().includes("prerender")),{error:3e4,warning:4e3})}const mt="not-serializable",vt=o("getPageContextProxyForUser.ts",{});const wt=["then","toJSON"];function bt(e,t){{const t=e;h([!0,!1].includes(t.isHydration)),h([!0,!1,null].includes(t.isBackwardNavigation))}var n;h("config"in e),h("configEntries"in e),h("exports"in e),h("exportsAll"in e),h("pageExports"in e),h(c(e.pageExports)),W(e,{Page:e.exports.Page}),n=e,Object.entries(n).forEach((([e,t])=>{delete n[e],n[e]=t})),function(e){let t=Object.getOwnPropertyDescriptors(e);for(const n of Object.keys(e))delete e[n];t=Object.fromEntries(Object.entries(t).sort((([e],[t])=>{return o=t,(n=e).toLowerCase()<o.toLowerCase()?-1:n.toLowerCase()>o.toLowerCase()?1:0;var n,o}))),Object.defineProperties(e,t)}(e);const o=function(e){return h([!0,!1].includes(e._hasPageContextFromServer)),h([!0,!1].includes(e._hasPageContextFromClient)),new Proxy(e,{get(t,n){const o=e[n],r="string"==typeof(i=n)&&/^[a-z0-9\$_]+$/i.test(i)?`.${i}`:`[${JSON.stringify(i)}]`;var i;return y(o!==mt,`Can't access pageContext${r} on the client side. Because it can't be serialized, see server logs.`),function(e,t,n){if(o=t,vt.prev===o||"__v_raw"===vt.prev||(vt.prev=o,window.setTimeout((()=>{vt.prev=void 0}),0),0))return;var o;if(t in e)return;if(function(e){return!!wt.includes(e)||"symbol"==typeof e||"string"!=typeof e||!!e.startsWith("__v_")}(t))return;if(!e._hasPageContextFromServer)return;const r=`pageContext${n} isn't defined on the client-side, see https://vike.dev/passToClient#error`;e._hasPageContextFromClient?v(!1,r,{onlyOnce:!1,showStackTrace:!0}):y(!1,r)}(e,n,r),o}})}(e);return function(e){var t;(function(e,t){if(t.length>0){const n=t.find((t=>t.pageId===e));return h(n),!!n.isErrorPage}return te(e)})((t=e)._pageId,t._pageConfigs)&&h(H(t,"is404","boolean")),function(e){if(void 0===e.is404||null===e.is404)return;const t=e.pageProps||{};c(t)?(t.is404=t.is404||e.is404,e.pageProps=t):v(!1,"pageContext.pageProps should be an object",{showStackTrace:!0,onlyOnce:!0})}(e)}(e),o}const St=["urlPathname","urlParsed"],Pt=["Page","pageExports","exports"],Ct="/",xt=".pageContext.json";function $t(e,{hookName:t,hookFilePath:n}){if(null==e)return;h(!t.endsWith(")"));const o=`The ${r.cyan("pageContext")} object provided by the ${t}() hook defined by ${n}`;y(c(e),`${o} should be an object (but it's ${r.cyan(`typeof pageContext === ${JSON.stringify(typeof e)}`)} instead)`),y(!("_objectCreatedByVike"in e),`${o} shouldn't be the whole ${r.cyan("pageContext")} object, see https://vike.dev/pageContext-manipulation#do-not-return-entire-pagecontext`),v(!("_pageId"in e),`${o} sets ${r.cyan("pageContext._pageId")} which means that Vike's routing is overriden. This is an experimental feature: make sure to contact a vike maintainer before using this.`,{onlyOnce:!0}),y(!("is404"in e),`${o} sets ${r.cyan("pageContext.is404")} which is forbidden, use ${r.cyan("throw render()")} instead, see https://vike.dev/render`)}P()&&x();const Et="The guard() hook defined by";async function _t(e,t){let n;if(e._pageFilesAll.length>0?(h(0===e._pageConfigs.length),n=function(e,t){const n=t.find((t=>t.pageId===e&&".page.route"===t.fileType));if(!n)return null;const{filePath:o,fileExports:r}=n;h(r);const i=r.guard;if(!i)return null;const a=o,s=yt("guard");return y(B(i),`${Et} ${a} should be a function`),{hookFn:i,hookName:"guard",hookFilePath:a,hookTimeout:s}}(e._pageId,e._pageFilesAll)):n=ft(e,"guard"),!n)return;const o=n.hookFn;let r=e;const i=t(e);i&&(r=i),y(void 0===await Ke((()=>o(r)),n,e),`${Et} ${n.hookFilePath} returns a value, but guard() shouldn't return any value`)}const Rt="_isAbortError";function Tt(e){return"object"==typeof e&&null!==e&&Rt in e}const kt="_pageContextInitIsPassedToClient",Ot="_isServerSideError",Ft=o("router/getPageContext.ts",{});async function It(e,t){W(e,{isHydration:!1,_hasPageContextFromClient:!1});let n=!1;if(!t&&await async function(e){return!!Ft.pageContextInitIsPassedToClient||await At("data",e)||await At("onBeforeRender",e)}(e)){const t=await async function(e){const t=function(e){return function(e,t){const{pathnameOriginal:n,searchOriginal:o,hashOriginal:r}=_(e,Ct);e.startsWith("/")&&h(e===`${n}${o||""}${r||""}`,{url:e});const i=n.endsWith("/");let a;return a=n+(i?"":"/")+"index",h(a),a+=t,`${a}${o||""}${r||""}`}(e,xt)}(e._urlRewrite??e.urlOriginal),n=await fetch(t);{const o=n.headers.get("content-type"),r="application/json",i=o&&o.includes(r);if(!i&&404===n.status)return Ze(e.urlOriginal),{is404ServerSideRouted:!0};y(i,`Wrong Content-Type for ${t}: it should be ${r} but it's ${o} instead. Make sure to properly use pageContext.httpResponse.headers, see https://vike.dev/renderPage`)}const o=pe(await n.text());if(h(c(o)),((r=o)._urlRewrite||r._urlRedirect||r.abortStatusCode)&&(h(H(r,"_abortCall","string")),1))throw function(e){const t=new Error("AbortRender");return W(t,{_pageContextAbort:e,[Rt]:!0}),t}(o);var r;if("serverSideError"in o||Ot in o)throw m("pageContext couldn't be fetched because an error occurred on the server-side");return h(H(o,"_pageId","string")),Lt(o),{pageContextFromServer:o}}(e);if("is404ServerSideRouted"in t)return{is404ServerSideRouted:!0};const{pageContextFromServer:o}=t;n=!0,h(!(Ot in o)),h(!("serverSideError"in o)),W(e,o)}W(e,{_hasPageContextFromServer:n});for(const o of["guard","data","onBeforeRender"])if("guard"===o)t||n||await _t(e,(e=>bt(e)));else if(h("data"===o||"onBeforeRender"===o),Nt(o,e)||!n){const t=await jt(o,e);t&&h(!("urlOriginal"in t)),Object.assign(e,t)}else h(n);return W(e,{_hasPageContextFromServer:n}),{pageContextAugmented:e}}async function jt(e,t){const n=ft(t,e);if(!n)return null;const o=bt(t),i=await Ke((()=>n.hookFn(o)),n,t),a={};if("onBeforeRender"===e){!function(e,t){if(null==e)return;const n=`The onBeforeRender() hook defined by ${t}`;y(U(e),`${n} should return a plain JavaScript object, ${r.cyan("undefined")}, or ${r.cyan("null")}`),function(e,t,n){h(!n.endsWith(" "));const o=[],r=Object.keys(e);for(const i of r)t.includes(i)||o.push(i);y(0===o.length,[n,"returned an object with following unknown keys:",M(o)+".","Only following keys are allowed:",M(t)+"."].join(" "))}(e,["pageContext"],n),e.pageContext&&$t(e.pageContext,{hookName:"onBeforeRender",hookFilePath:t})}(i,n.hookFilePath);const e=null==i?void 0:i.pageContext;e&&(W(a,{_hasPageContextFromClient:!0}),W(a,e))}else{h("data"===e);const t={data:i};i&&W(a,{_hasPageContextFromClient:!0}),W(a,t)}return a}async function At(e,t){var n;if(t._pageConfigs.length>0){const o=(null==(n=ct(Re(t._pageId,t._pageConfigs),`${e}Env`))?void 0:n.value)??{};return h(c(o)),!!o.server&&!o.client}{if("data"===e)return!1;h("onBeforeRender"===e);const{hasOnBeforeRenderServerSideOnlyHook:n}=await async function(e,t){const n=$e(e,t).filter((e=>".page.server"===e.fileType));return await Promise.all(n.map((async e=>{e.exportNames||(h(e.loadExportNames,t),await e.loadExportNames())}))),{hasOnBeforeRenderServerSideOnlyHook:n.some((({exportNames:e})=>(h(e),e.includes("onBeforeRender"))))}}(t._pageFilesAll,t._pageId);return n}}function Nt(e,t){var n;if(t._pageConfigs.length>0){const o=(null==(n=ct(Re(t._pageId,t._pageConfigs),`${e}Env`))?void 0:n.value)??{};return h(c(o)),!!o.client&&!o.server}return!1}function Lt(e){var t;e[kt]&&(Ft.pageContextInitIsPassedToClient=!0),t=e,[...Pt,...St].forEach((e=>{e in t&&(St.includes(e)?(h(e.startsWith("url")),v(!1,`pageContext.${e} is already available in the browser when using Client Routing; adding '${e}' to passToClient has no effect`,{onlyOnce:!0})):v(!1,`pageContext.${e} is a built-in that cannot be overriden; adding '${e}' to passToClient has no effect`,{onlyOnce:!0}),delete t[e])}))}function Wt(e){let t,n;e.urlLogical?(t=e.urlLogical,n=!1):e._urlRewrite?(t=e._urlRewrite,n=!1):(t=e.urlOriginal,n=!0),h(t&&"string"==typeof t);let o=e._urlHandler;return o||(o=e=>e),t=o(t),_(t,n?e._baseServer:"/")}function Bt(){const{pathname:e}=Wt(this),t=e;return h(t.startsWith("/")),t}function Dt(){return v(!1,"`pageContext.url` is outdated. Use `pageContext.urlPathname`, `pageContext.urlParsed`, or `pageContext.urlOriginal` instead. (See https://vike.dev/migration/0.4.23 for more information.)",{onlyOnce:!0,showStackTrace:!0}),Bt.call(this)}function Vt(){const{hasBaseServer:e,...t}=Wt(this),n=P(),o=e=>{v(n,`pageContext.urlParsed.${e} isn't available on the server-side (HTTP requests don't include the URL hash)`,{onlyOnce:!0,showStackTrace:!0})},r={...t,get hash(){return o("hash"),t.hash},get hashOriginal(){return o("hashOriginal"),t.hashOriginal},get hashString(){return v(!1,"pageContext.urlParsed.hashString has been renamed to pageContext.urlParsed.hashOriginal",{onlyOnce:!0,showStackTrace:!0}),o("hashString"),t.hashOriginal},get searchString(){return v(!1,"pageContext.urlParsed.searchString has been renamed to pageContext.urlParsed.searchOriginal",{onlyOnce:!0,showStackTrace:!0}),t.searchOriginal}};return K(r,"hashString",!1),K(r,"searchString",!1),n||(K(r,"hash",!1),K(r,"hashOriginal",!1)),r}function zt(e){h("string"==typeof e.urlOriginal),h("string"==typeof e.urlPathname),h(U(e.urlParsed)),h(e.urlPathname===e.urlParsed.pathname),Ht(e)}function Ht(e){"urlPathname"in e?(h("string"==typeof e.urlPathname),h(J(e,"urlPathname")),h(J(e,"urlParsed")),h(J(e,"url"))):(h(!("urlParsed"in e)),h(!("url"in e)))}function Ut(e,t){var n;v(!("object"==typeof(n=e)&&null!==n&&"then"in n&&B(n.then)),`${t} returned a promise, but asynchronous routing is deprecated and will be removed in the next major release, see https://vike.dev/route-function#async`,{onlyOnce:!0})}function Gt(){v(!1,`${r.cyan("iKnowThePerformanceRisksOfAsyncRouteFunctions")} is deprecated and will be removed in the next major release`,{onlyOnce:!0})}function Mt(e,t){h(t.endsWith(" should")),H(e,"routeParams")&&(h(t.endsWith(" should")),y(H(e,"routeParams","string{}"),`${t} be an object holding string values.`))}function Yt(e){h(e.startsWith("/")),h(!e.endsWith("/"));const t=$(e.split("/"),0,-1).join("/")||"/";return h(t.startsWith("/")),h(!t.endsWith("/")||"/"===t),t}function Jt(){return h("/".startsWith("/")),"/"}const Kt=o("createPageContext.ts",{});async function qt(t){Kt.pageFilesData||(Kt.pageFilesData=await async function(t,n){h(!Ce.pageFilesGetter),h(void 0===n);const{pageFilesAll:o,pageConfigs:r,pageConfigGlobal:i}=Ce;var a;return h(o&&r&&i),{pageFilesAll:o,allPageIds:(a=r,[...e(o.filter((({isDefaultPageFile:e})=>!e)).map((({pageId:e})=>e))),...a.map((e=>e.pageId))]),pageConfigs:r,pageConfigGlobal:i}}());const{pageFilesAll:n,allPageIds:o,pageConfigs:r,pageConfigGlobal:i}=Kt.pageFilesData,{pageRoutes:a,onBeforeRouteHook:s}=await async function(e,t,n,o){await Promise.all(e.filter((e=>".page.route"===e.fileType)).map((e=>{var t;return null==(t=e.loadFile)?void 0:t.call(e)})));const{onBeforeRouteHook:r,filesystemRoots:i}=function(e,t,n){if(t.length>0)return{onBeforeRouteHook:gt(n,"onBeforeRoute"),filesystemRoots:null};let o=null;const r=[];return e.filter((e=>".page.route"===e.fileType&&e.isDefaultPageFile)).forEach((({filePath:e,fileExports:t})=>{if(h(t),"onBeforeRoute"in t){y(H(t,"onBeforeRoute","function"),`\`export { onBeforeRoute }\` of ${e} should be a function.`);const{onBeforeRoute:n}=t,r="onBeforeRoute";o={hookFilePath:e,hookFn:n,hookName:r,hookTimeout:yt(r)}}"filesystemRoutingRoot"in t&&(y(H(t,"filesystemRoutingRoot","string"),`\`export { filesystemRoutingRoot }\` of ${e} should be a string.`),y(H(t,"filesystemRoutingRoot","string"),`\`export { filesystemRoutingRoot }\` of ${e} is \`'${t.filesystemRoutingRoot}'\` but it should start with a leading slash \`/\`.`),r.push({filesystemRoot:Yt(e),urlRoot:t.filesystemRoutingRoot}))})),{onBeforeRouteHook:o,filesystemRoots:r}}(e,t,n);return{pageRoutes:function(e,t,n,o){const r=[];if(n.length>0){h(null===e);const t=!0;n.filter((e=>!e.isErrorPage)).forEach((e=>{const n=e.pageId;let o=null;{const r="route",i=ct(e,r);if(i){const a=i.value;h(i.definedAtData);const s=fe(i.definedAtData,r);"string"==typeof a?o={pageId:n,comesFromV1PageConfig:t,routeString:a,routeDefinedAtString:s,routeType:"STRING"}:(h(B(a)),ct(e,"iKnowThePerformanceRisksOfAsyncRouteFunctions","boolean")&&Gt(),o={pageId:n,comesFromV1PageConfig:t,routeFunction:a,routeDefinedAtString:s,routeType:"FUNCTION"})}}if(!o){const{routeFilesystem:r}=e;h(r);const{routeString:i,definedBy:a}=r;h(r.routeString.startsWith("/")),o={pageId:n,routeFilesystemDefinedBy:a,comesFromV1PageConfig:t,routeString:i,routeDefinedAtString:null,routeType:"FILESYSTEM"}}h(o),r.push(o)}))}if(0===n.length){h(e);const n=!1;o.filter((e=>!te(e))).forEach((o=>{const i=t.find((e=>e.pageId===o&&".page.route"===e.fileType));if(i&&"default"in i.fileExports){const{filePath:e,fileExports:t}=i;if(h(t.default),H(t,"default","string")){const i=t.default;return y(i.startsWith("/"),`A Route String should start with a leading slash '/' but ${e} has \`export default '${i}'\`. Make sure to \`export default '/${i}'\` instead.`),void r.push({pageId:o,comesFromV1PageConfig:n,routeString:i,routeDefinedAtString:e,routeType:"STRING"})}if(H(t,"default","function")){const i=t.default;return"iKnowThePerformanceRisksOfAsyncRouteFunctions"in t&&Gt(),void r.push({pageId:o,comesFromV1PageConfig:n,routeFunction:i,routeDefinedAtString:e,routeType:"FUNCTION"})}y(!1,`The default export of ${e} should be a string or a function.`)}else{const t=function(e,t){const n=t.filter((({filesystemRoot:t})=>e.startsWith(t))).sort(D((({filesystemRoot:e})=>e.length)))[0];let o;if(n){const{filesystemRoot:t,urlRoot:r}=n,i={pageId:e,filesystemRoot:t,urlRoot:r};h(r.startsWith("/")&&e.startsWith("/")&&t.startsWith("/"),i),h(e.startsWith(t),i),"/"!==t?(h(!t.endsWith("/"),i),o=$(e,t.length,0)):o=e,h(o.startsWith("/"),i),o=r+(r.endsWith("/")?"":"/")+$(o,1,0)}else o=e;return h(o.startsWith("/")),o=o.split("/").filter((e=>"pages"!==e&&"src"!==e&&"index"!==e)).join("/"),h(!o.includes(".page.")),h(!o.endsWith(".")),o.endsWith("/index")&&(o=$(o,0,-6)),""===o&&(o="/"),h(o.startsWith("/")),h(!o.endsWith("/")||"/"===o),o}(o,e);h(t.startsWith("/")),h(!t.endsWith("/")||"/"===t),r.push({pageId:o,comesFromV1PageConfig:n,routeString:t,routeDefinedAtString:null,routeFilesystemDefinedBy:`${o}.page.*`,routeType:"FILESYSTEM"})}}))}return r}(i,e,t,o),onBeforeRouteHook:r}}(n,r,i,o),l=Jt();h(F(l));const u={urlOriginal:t,_objectCreatedByVike:!0,_urlHandler:null,_urlRewrite:null,_baseServer:l,_pageFilesAll:n,_pageConfigs:r,_pageConfigGlobal:i,_allPageIds:o,_pageRoutes:a,_onBeforeRouteHook:s,_isPageContextObject:!0};return W(u,function(e){h("string"==typeof e.urlOriginal),Ht(e);const t={};return q(t,"urlPathname",{get:Bt,enumerable:!0,configurable:!0}),q(t,"url",{get:Dt,enumerable:!1,configurable:!0}),q(t,"urlParsed",{get:Vt,enumerable:!0,configurable:!0}),t}(u)),u}function Xt(e,t){const n=e.filter((e=>e.pageId===t));return h(n.length<=1),n[0]??null}async function Qt(e,t){if("isAllLoaded"in e&&!t)return e;const n=ve((await e.loadConfigValuesAll()).configValuesSerialized);return Object.assign(e.configValues,n),W(e,{isAllLoaded:!0}),e}const Zt="__whileFetchingAssets";async function en(e,t,n){const o=xe(t,e),i=Xt(n,e);let a;try{a=(await Promise.all([i&&Qt(i,!1),...o.map((e=>{var t;return null==(t=e.loadFile)?void 0:t.call(e)}))]))[0]}catch(u){throw(s=u)instanceof Error&&["Failed to fetch dynamically imported module","error loading dynamically imported module","Importing a module script failed","error resolving module specifier","failed to resolve module"].some((e=>s.message.toLowerCase().includes(e.toLowerCase())))&&Object.assign(u,{[Zt]:!0}),u}var s;const l={};return W(l,function(e,t){const n={},o={},i={};e.forEach((e=>{(function(e){const{filePath:t,fileExports:n}=e;h(n),h(ie(t));const o=[];return Object.entries(n).sort(V((e=>{const t=(([e])=>"default"===e)(e);return null===t?null:!t}))).forEach((([e,n])=>{let i="default"===e;if(i){if(a=t,!oe.some((e=>a.endsWith("."+e))))return y(c(n),`The ${r.cyan("export default")} of ${t} should be an object.`),void Object.entries(n).forEach((([e,n])=>{var r,a;r=e,a=t,y(!Q.includes(r),`${a} has \`export default { ${r} }\` which is prohibited, use \`export { ${r} }\` instead.`),o.push({exportName:e,exportValue:n,isFromDefaultExport:i})}));e="Page"}var a;o.push({exportName:e,exportValue:n,isFromDefaultExport:i})})),o.forEach((({exportName:e,isFromDefaultExport:t})=>{h(!(t&&Q.includes(e)))})),o})(e).forEach((({exportName:t,exportValue:n,isFromDefaultExport:o})=>{h("default"!==t),i[t]=i[t]??[],i[t].push({exportValue:n,exportSource:`${e.filePath} > ${o?`\`export default { ${t} }\``:`\`export { ${t} }\``}`,filePath:e.filePath,_filePath:e.filePath,_fileType:e.fileType,_isFromDefaultExport:o})}))}));const a={},s={},l=(e,t)=>{a[t]=e,s[t]??(s[t]=[]),s[t].push(e)},u={configsStandard:{},configsCumulative:{},configsComputed:{}};t&&Object.entries(t.configValues).forEach((([e,t])=>{const{value:r}=t,a=Te(t.definedAtData),s=ce("Config",e,t.definedAtData);if(o[e]=o[e]??r,n[e]=n[e]??[],h(0===n[e].length),n[e].push({configValue:r,configDefinedAt:s,configDefinedByFile:a}),"standard"===t.type){const n={type:"configsStandard",value:t.value,definedAt:fe(t.definedAtData,e)};l(n,e),u.configsStandard[e]=n}if("cumulative"===t.type){const n={type:"configsCumulative",values:t.value.map(((n,o)=>{const r=t.definedAtData[o];return h(r),{value:n,definedAt:fe(r,e)}}))};l(n,e),u.configsCumulative[e]=n}if("computed"===t.type){const n={type:"configsComputed",value:t.value};l(n,e),u.configsComputed[e]=n}const c=e;i[c]=i[c]??[],i[c].push({exportValue:r,exportSource:s,filePath:a,_filePath:a,_fileType:null,_isFromDefaultExport:null})}));const d=new Proxy({},{get:(...e)=>(P()||v(!1,"`pageContext.pageExports` is outdated. Use `pageContext.exports` instead, see https://vike.dev/exports",{onlyOnce:!0,showStackTrace:!0}),Reflect.get(...e))}),f={};return Object.entries(i).forEach((([e,t])=>{t.forEach((({exportValue:t,_fileType:n,_isFromDefaultExport:o})=>{f[e]=f[e]??t,".page"!==n||o||e in d||(d[e]=t)}))})),h(!("default"in f)),h(!("default"in i)),{from:u,source:a,sources:s,config:o,configEntries:n,exports:f,exportsAll:i,pageExports:d}}(o,a)),W(l,{_pageFilesLoaded:o}),l}function tn(e){return!!e&&!0===e[Zt]}function nn(e){const t=e.getAttribute("href");return null===t||!j(t)||""===t||!(n=t).startsWith("/")&&!A(n)||function(e){if(e.startsWith("#"))return!0;const t=e=>e.split("#")[0];return!(!e.includes("#")||t(e)!==t(window.location.href))}(t)||function(e){const t=e.getAttribute("target"),n=e.getAttribute("rel");return"_blank"===t||"_external"===t||"external"===n||e.hasAttribute("download")}(e)||!function(e){const t=Jt();h(F(t));const{hasBaseServer:n}=_(e,t);return n}(t)||!function(e){if(window._disableAutomaticLinkInterception){const t=e.getAttribute("data-vike-link");return null!==t&&"false"!==t}return!0}(e);var n}const on=new Map;function rn(e){return _(e,"/").pathname}function an(e){return".css"===e.fileType?[]:e.exportNames?e.exportNames:(h(e.fileExports,e.filePath),Object.keys(e.fileExports))}function sn(e,t){let n=xe(e,t);const o=$e(e,t),{isHtmlOnly:r,isClientRouting:i}=function({pageFilesClientSide:e,pageFilesServerSide:t,pageId:n}){return{isHtmlOnly:t.some((e=>e.pageId===n&&".page"===e.fileType))?(y(e.some((e=>an(e).includes("render"))),["No client-side `render()` hook found.","See https://vike.dev/render-modes for more information.",["Loaded client-side page files (none of them `export { render }`):",...e.map(((e,t)=>` (${t+1}): ${e.filePath}`))].join("\n")].join(" ")),!1):!!t.some((e=>e.pageId===n&&".page.server"===e.fileType))&&!e.some((e=>e.pageId===n&&".page.client"===e.fileType&&an(e).includes("render"))),isClientRouting:e.some((e=>an(e).includes("clientRouting")))}}({pageFilesClientSide:n,pageFilesServerSide:o,pageId:t});r&&(n=n.filter((e=>e.isEnv("CLIENT_ONLY")&&!an(e).includes("render"))),n=function(e){const t=[];for(const n of e)if(t.push(n),an(n).includes("overrideDefaultPages"))break;return t}(n));const{clientEntries:a,clientDependencies:s}=function({pageFilesClientSide:e,pageFilesServerSide:t,isHtmlOnly:n,isClientRouting:o}){let r=[];const i=t.filter((t=>!e.includes(t))),a=[];if(a.push(...e.map((e=>({id:e.filePath,onlyAssets:!1,eagerlyImported:!1})))),a.push(...i.map((e=>({id:e.filePath,onlyAssets:!0,eagerlyImported:!1})))),n)r=e.map((e=>e.filePath));else{const e=function(e){return e?"@@vike/dist/esm/client/client-routing-runtime/entry.js":"@@vike/dist/esm/client/server-routing-runtime/entry.js"}(o);a.push({id:e,onlyAssets:!1,eagerlyImported:!1}),r=[e]}return{clientEntries:r,clientDependencies:a}}({pageFilesClientSide:n,pageFilesServerSide:o,isHtmlOnly:r,isClientRouting:i});return{isHtmlOnly:r,isClientRouting:i,clientEntries:a,clientDependencies:s,pageFilesClientSide:n,pageFilesServerSide:o}}async function ln(e,t){await async function(e,t,{sharedPageFilesAlreadyLoaded:n}){const o=xe(e,t);await Promise.all(o.map((async e=>{var t;h(e.isEnv("CLIENT_ONLY")||e.isEnv("CLIENT_AND_SERVER")),n&&e.isEnv("CLIENT_AND_SERVER")||await(null==(t=e.loadExportNames)?void 0:t.call(e))})))}(t._pageFilesAll,e,{sharedPageFilesAlreadyLoaded:!1});const n=Xt(t._pageConfigs,e),{clientEntryLoaded:o,isClientRouting:r}=function(e,t,n){var o,r;if(e){const t=(null==(o=ct(e,"clientRouting","boolean"))?void 0:o.value)??!1;return{clientEntryLoaded:(null==(r=ct(e,"clientEntryLoaded","boolean"))?void 0:r.value)??!1,isClientRouting:t}}{const{isHtmlOnly:e,isClientRouting:o}=sn(t,n);return{clientEntryLoaded:!e,isClientRouting:o}}}(n,t._pageFilesAll,e);return o&&r}const un="@",cn=":";function dn(e,t){!function(e,t="Invalid"){let n=`${t} Route String ${hn(e)}`;y(""!==e,`${n} (empty string): set it to ${hn("/")} instead`),y(["/","*"].includes(e[0]),`${n}: it should start with ${hn("/")} or ${hn("*")}`),y(!e.includes("**"),`${n}: set it to ${hn(e.split("**").join("*"))} instead`)}(e);const n=fn(e),o=n.map((e=>e.param?"[^/]+":e.glob?".*":e.static.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&"))).map((e=>`(${e})`)).join(""),r=new RegExp(`^${o}/?$`),i=t.match(r);if(!i)return null;const a={},[s,...l]=i;let u=0;const c=n.filter((e=>e.glob)).length>1;return n.forEach(((e,t)=>{let n=l[t];if(e.param&&(a[e.param]=n),e.glob){const e=`*${c?++u:""}`;a[e]=n}})),{routeParams:a}}function fn(e){const t=[],n=e=>{const n=t[t.length-1];(null==n?void 0:n.static)?n.static+=e:t.push({static:e})},o=e.split("/");return o.forEach(((r,i)=>{var a;0!==i&&n("/"),(a=r).startsWith(un)||a.startsWith(cn)?(v(!r.startsWith(cn),`Outdated Route String ${hn(e)}, use ${hn(e.split(cn).join(un))} instead`,{onlyOnce:!0}),t.push({param:r.slice(1)})):"*"===r&&i===o.length-1&&"*"!==e&&"/*"!==e?t.push({glob:!0}):r.split("*").forEach(((e,o)=>{0!==o&&t.push({glob:!0}),""!==e&&n(e)}))})),t}function gn(e){const t=fn(e),n=e=>(null==e?void 0:e.split("/").filter(Boolean).length)||0;let o=0;for(const r of t){if(!r.static)break;o+=n(r.static)}return{numberOfStaticPartsBeginning:o,numberOfStaticParts:t.map((e=>n(e.static))).reduce(((e,t)=>e+t),0),numberOfParams:t.filter((e=>e.param)).length,numberOfGlobs:t.filter((e=>e.glob)).length}}function pn(e){const t=dn(e,e);return h(t),0===Object.keys(t.routeParams).length}function hn(e){return P()?`'${e}'`:(""===e&&(e="''"),r.cyan(e))}function yn(e,t){{const n=e.precedence??0,o=t.precedence??0;if(n!==o)return n>o?-1:1}if(!t.routeString)return 0;if(!e.routeString)return 0;{const n=D((e=>gn(e).numberOfStaticPartsBeginning))(e.routeString,t.routeString);if(0!==n)return n}{const n=D((e=>gn(e).numberOfStaticParts))(e.routeString,t.routeString);if(0!==n)return n}{const n=function(e){return(t,n)=>{const o=e(t),r=e(n);return o===r?0:o<r?-1:1}}((e=>gn(e).numberOfGlobs))(e.routeString,t.routeString);if(0!==n)return n}{const n=D((e=>gn(e).numberOfParams))(e.routeString,t.routeString);if(0!==n)return n}return 0}var mn;function vn(...e){var t;mn||(mn=null==(t=globalThis.__brillout_debug_createDebugger)?void 0:t.call(globalThis,"vike:routing")),mn&&mn(...e)}async function wn(e){vn("Pages routes:",e._pageRoutes),zt(e);const t={},n=await async function(e){const t={};if(!e._onBeforeRouteHook)return null;const n=await async function(e,t){let n=e.hookFn(t);Ut(n,`The onBeforeRoute() hook ${e.hookFilePath}`),n=await Ke((()=>n),e,t);const o=`The onBeforeRoute() hook defined by ${e.hookFilePath}`;if(y(null==n||function(e,t){if(!U(e))return!1;for(const n of Object.keys(e))if(!t.includes(n))return!1;return!0}(n,["pageContext"])&&H(n,"pageContext"),`${o} should return ${r.cyan("null")}, ${r.cyan("undefined")}, or a plain JavaScript object ${r.cyan("{ pageContext: { /* ... */ } }")}`),null==n)return null;if(y(H(n,"pageContext","object"),`${o} returned ${r.cyan("{ pageContext }")} but pageContext should be a plain JavaScript object.`),H(n.pageContext,"_pageId")&&!H(n.pageContext,"_pageId","null")){const e=`${o} returned ${r.cyan("{ pageContext: { _pageId } }")} but ${r.cyan("_pageId")} should be`;y(H(n.pageContext,"_pageId","string"),`${e} a string or null`),y(t._allPageIds.includes(n.pageContext._pageId),`${e} ${function(e,t,n=e=>e){if(h(e.length>0),1===e.length)return n(e[0]);const o=e.slice(0,e.length-1),r=e[e.length-1];return o.map(n).join(", ")+`, ${t} `+n(r)}(t._allPageIds.map((e=>r.cyan(e))),"or")}`)}H(n.pageContext,"routeParams")&&Mt(n.pageContext,`${o} returned ${r.cyan("{ pageContext: { routeParams } }")} but routeParams should`);const i=e=>`${o} returned ${r.cyan(`{ pageContext: { ${e} } }`)} which is deprecated. Return ${r.cyan("{ pageContext: { urlLogical } }")} instead.`;H(n.pageContext,"url")&&(v(!1,i("url"),{onlyOnce:!0}),n.pageContext.urlLogical=n.pageContext.url,delete n.pageContext.url),H(n.pageContext,"urlOriginal")&&(v(!1,i("urlOriginal"),{onlyOnce:!0}),n.pageContext.urlLogical=n.pageContext.urlOriginal,delete n.pageContext.urlOriginal),H(n.pageContext,"urlLogical")&&L(n.pageContext.urlLogical,`${o} returned ${r.cyan("{ pageContext: { urlLogical } }")} but ${r.cyan("urlLogical")}`),$t(n.pageContext,{hookFilePath:e.hookFilePath,hookName:"onBeforeRoute"});const a={};return W(a,n.pageContext),a}(e._onBeforeRouteHook,e);return n&&(W(t,n),H(t,"_pageId","string")||H(t,"_pageId","null"))?(H(t,"routeParams")?h(H(t,"routeParams","object")):W(t,{routeParams:{}}),W(t,{_routingProvidedByOnBeforeRouteHook:!0,_debugRouteMatches:"CUSTOM_ROUTING"}),t):(W(t,{_routingProvidedByOnBeforeRouteHook:!1}),t)}(e);if(n){if(n._routingProvidedByOnBeforeRouteHook)return h(n._pageId),n;W(t,n)}W(e,n),y(e._allPageIds.length>0,"No page found. You must create at least one page."),h(e._pageFilesAll.length>0||e._pageConfigs.length>0);const{urlPathname:o}=e;h(o.startsWith("/"));const i=[];await Promise.all(e._pageRoutes.map((async t=>{const{pageId:n,routeType:a}=t;if("FILESYSTEM"!==t.routeType)if("STRING"!==t.routeType)if("FUNCTION"!==t.routeType)h(!1);else{const{routeFunction:o,routeDefinedAtString:s}=t,l=await async function(e,t,n){zt(t);let o=e(t);if(Ut(o,`The Route Function ${n}`),o=await o,!1===o)return null;if(!0===o&&(o={}),y(U(o),`The Route Function ${n} should return a boolean or a plain JavaScript object (but it's ${r.cyan(`typeof result === ${JSON.stringify(typeof o)}`)} instead)`),"match"in o){const{match:e}=o;if(y("boolean"==typeof e,`The ${r.cyan("match")} value returned by the Route Function ${n} should be a boolean.`),!e)return null}let i=null;"precedence"in o&&(i=o.precedence,y("number"==typeof i,`The ${r.cyan("precedence")} value returned by the Route Function ${n} should be a number.`)),Mt(o,`The ${r.cyan("routeParams")} object returned by the Route Function ${n} should`);const a=o.routeParams||{};return y(!("pageContext"in o),`Providing ${r.cyan("pageContext")} in Route Functions is prohibited, see https://vike.dev/route-function#cannot-provide-pagecontext`),h(U(a)),Object.keys(o).forEach((e=>{y("match"===e||"routeParams"===e||"precedence"===e,`The Route Function ${n} returned an object with an unknown property ${r.cyan(e)} (the known properties are ${r.cyan("match")}, ${r.cyan("routeParams")}, and ${r.cyan("precedence")})`)})),{precedence:i,routeParams:a}}(o,e,s);if(l){const{routeParams:e,precedence:t}=l;i.push({pageId:n,precedence:t,routeParams:e,routeType:a})}}else{const{routeString:e}=t,r=dn(e,o);if(r){const{routeParams:t}=r;h("STRING"===a),i.push({pageId:n,routeString:e,routeParams:t,routeType:a})}}else{const{routeString:e}=t,r=dn(e,o);if(r){const{routeParams:t}=r;i.push({pageId:n,routeParams:t,routeString:e,routeType:a})}}}))),i.sort(yn).sort(V((e=>"FUNCTION"===e.routeType&&!!e.precedence&&e.precedence<0))).sort(V((e=>"STRING"===e.routeType&&!1===pn(e.routeString)))).sort(V((e=>"FUNCTION"===e.routeType&&!e.precedence))).sort(V((e=>"STRING"===e.routeType&&!0===pn(e.routeString)))).sort(V((e=>"FILESYSTEM"===e.routeType))).sort(V((e=>"FUNCTION"===e.routeType&&!!e.precedence&&e.precedence>0)));const a=i[0]??null;if(vn(`Route matches for URL ${r.cyan(o)} (in precedence order):`,i),W(t,{_debugRouteMatches:i}),W(t,{_routeMatch:a}),!a)return W(t,{_pageId:null,routeParams:{}}),t;{const{routeParams:e}=a;h(U(e)),W(t,{_pageId:a.pageId,routeParams:a.routeParams})}return t}P()&&x(),x();const bn=o("prefetch.ts",{linkPrefetchHandlerAdded:new WeakMap});function Sn(e){!function(e){const t=rn(e);on.set(t,!0)}(e.urlPathname),[...document.getElementsByTagName("A")].forEach((t=>{if(bn.linkPrefetchHandlerAdded.has(t))return;bn.linkPrefetchHandlerAdded.set(t,!0);const n=t.getAttribute("href");if(nn(t))return;if(h(n),function(e){const t=rn(e);return on.has(t)}(n))return;const{prefetchStaticAssets:o}=function(e,t){return{prefetchStaticAssets:function(e,t){{const e=function(e){const t=e.getAttribute("data-prefetch-static-assets"),n=e.getAttribute("data-prefetch");if(null===t&&null===n)return null;const o="The attribute data-prefetch is outdated, use data-prefetch-static-assets instead.";if(t){if(y(null===n,o),"hover"===t||"viewport"===t)return t;if("false"===t)return!1;y(!1,`data-prefetch-static-assets has value "${t}" but it should instead be "false", "hover", or "viewport"`)}if(n){if(h(!t),v(!1,o,{onlyOnce:!0}),"true"===n)return"viewport";if("false"===n)return"hover";y(!1,`data-prefetch has value "${n}" but it should instead be "true" or "false"`)}h(!1)}(t);if(null!==e)return e}if("prefetchLinks"in e.exports&&y(!1,"`export { prefetchLinks }` is deprecated, use `export { prefetchStaticAssets }` instead."),"prefetchStaticAssets"in e.exports){const{prefetchStaticAssets:t}=e.exports;if(!1===t)return!1;if("hover"===t)return"hover";if("viewport"===t)return"viewport";const n="prefetchStaticAssets value should be false, 'hover', or 'viewport'";y(U(t),n);const o=Object.keys(t);y(1===o.length&&"when"===o[0],n);const{when:r}=t;if("HOVER"===r||"VIEWPORT"===r){const e=r.toLowerCase();return v(!1,`prefetchStaticAssets value \`{ when: '${r}' }\` is outdated: set prefetchStaticAssets to '${e}' instead`,{onlyOnce:!0}),e}y(!1,n)}return"hover"}(e,t)}}(e,t);if(o&&("hover"===o&&(t.addEventListener("mouseover",(()=>{Pn(n)})),t.addEventListener("touchstart",(()=>{Pn(n)}),{passive:!0})),"viewport"===o)){const e=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&(Pn(n),e.disconnect())}))}));e.observe(t)}}))}async function Pn(e){const t=await qt(e);let n;try{n=await wn(t)}catch{return}(null==n?void 0:n._pageId)&&await ln(n._pageId,t)&&await async function(e,t){try{await en(e,t._pageFilesAll,t._pageConfigs)}catch(n){if(!tn(n))throw n;In(n,!0)}}(n._pageId,t)}function Cn(e){e&&"x"in e?xn(e):(null==e?void 0:e.preserveScroll)||function(){const e=function(){let{hash:e}=window.location;return""===e?null:(h(e.startsWith("#")),e=e.slice(1),e)}();if(e&&"top"!==e){const t=document.getElementById(e)||document.getElementsByName(e)[0];t&&t.scrollIntoView()}else xn({x:0,y:0})}()}function xn(e){const t=()=>window.scrollTo(e.x,e.y),n=()=>window.scrollX===e.x&&window.scrollY===e.y;n()||(t(),n()||requestAnimationFrame((()=>{t(),n()||setTimeout((async()=>{if(t(),n())return;const e=(new Date).getTime();for(;;){if(await et(10),t(),n())return;if((new Date).getTime()-e>100)return}}),0)})))}const $n=o("onBrowserHistoryNavigation.ts",{previousState:En()});function En(){return{urlWithoutHash:Xe({withoutHash:!0}),historyState:rt()}}const _n=o("scrollRestoration.ts",{});function Rn(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual")}function Tn(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="auto")}const kn=o("renderPageClientSide.ts",{renderCounter:0});async function On(t){const{scrollTarget:n,urlOriginal:o=Xe(),overwriteLastHistoryEntry:i=!1,isBackwardNavigation:a,pageContextsFromRewrite:s=[],redirectCount:l=0,isUserLandPushStateNavigation:u,isClientSideNavigation:c=!0}=t,{isRenderOutdated:d,setHydrationCanBeAborted:f,isHydrationRender:g}=function(){const e=++kn.renderCounter;h(e>=1);let t=!1;return{isRenderOutdated:n=>!(1===e&&!t&&!n)&&e!==kn.renderCounter,setHydrationCanBeAborted:()=>{t=!0},isHydrationRender:1===e}}();async function p(){const e=await qt(o);W(e,{isBackwardNavigation:a,isClientSideNavigation:c});{const t=function(e){!function(e){const t=[];e.forEach((e=>{const n=e._urlRewrite;{const e=t.indexOf(n);-1!==e&&y(!1,`Infinite loop of render() calls: ${[...t.slice(e),n].map((e=>`render('${e}')`)).join(" => ")}`)}t.push(n)}))}(e);const t={_urlRewrite:null};return e.forEach((e=>{Object.assign(t,e)})),t}(s);h(!("urlOriginal"in t)),W(e,t)}return e}async function m(n){const o=e=>{Qe(e,n.err)};if("err"in n){const{err:e}=n;h(e),Tt(e)}const r=await p();if(d())return;if(n.pageContextError&&W(r,n.pageContextError),"err"in n){const{err:e}=n;if(h(!("errorWhileRendering"in r)),r.errorWhileRendering=e,Tt(e)){const n=e._pageContextAbort;if(n._urlRewrite)return void(await On({...t,scrollTarget:void 0,pageContextsFromRewrite:[...s,n]}));if(n._urlRedirect){const e=n._urlRedirect.url;return e.startsWith("/")?void(await On({...t,scrollTarget:void 0,urlOriginal:e,overwriteLastHistoryEntry:!1,isBackwardNavigation:!1,redirectCount:l+1})):void Ze(e)}h(n.abortStatusCode),h(!("urlOriginal"in n)),W(r,n),404===n.abortStatusCode&&W(r,{is404:!0})}else W(r,{is404:!1})}const i=function(t,n){if(n.length>0){const e=n.filter((e=>e.isErrorPage));return 0===e.length?null:(y(1===e.length,"Only one error page can be defined"),e[0].pageId)}const o=e(t.map((({pageId:e})=>e)).filter((e=>te(e))));if(y(o.length<=1,`Only one _error.page.js is allowed, but found several: ${o.join(" ")}`),o.length>0){const e=o[0];return h(e),e}return null}(r._pageFilesAll,r._pageConfigs);if(!i)throw new Error("No error page defined.");W(r,{_pageId:i});try{W(r,await en(r._pageId,r._pageFilesAll,r._pageConfigs))}catch(u){return Fn(u,r,g)?void 0:void o(u)}if(d())return;let a;try{a=await It(r,!0)}catch(u){return void o(u)}d()||"is404ServerSideRouted"in a||(nt(r,a.pageContextAugmented),await w(r,n))}async function w(e,t){const r=async e=>{t?Qe(e,t.err):await m({err:e})};if(kn.onRenderClientPromise&&(await kn.onRenderClientPromise,h(void 0===kn.onRenderClientPromise),d()))return;var a,s;a=o,s=i,Xe()!==a&&(Rn(),function(e,t){var n,o;t?ut(rt(),e):(n={timestamp:at(),scrollPosition:null,triggeredBy:"vike",_isVikeEnhanced:!0},o=e,window.history.pushState(n,"",o))}(a,s),$n.previousState=En()),kn.previousPageContext=e,h(void 0===kn.onRenderClientPromise),kn.onRenderClientPromise=(async()=>{let t;try{await async function(e){const t=bt(e);let n,o=null;o=ft(e,"render"),n="render";{const t=ft(e,"onRenderClient");t&&(o=t,n="onRenderClient")}if(!o){const t=function(e){let t;try{t=e.urlPathname??e.urlOriginal}catch{}return t=t??window.location.href,t}(e);if(h(t),e._pageConfigs.length>0)y(!1,`No onRenderClient() hook defined for URL '${t}', but it's needed, see https://vike.dev/onRenderClient`);else{const n=e._pageFilesLoaded.filter((e=>".page.client"===e.fileType));let o;o=0===n.length?"No file `*.page.client.*` found for URL "+t:"One of the following files should export a render() hook: "+n.map((e=>e.filePath)).join(" "),y(!1,o)}}h(o);const r=o.hookFn;h(n),y(void 0===await Ke((()=>r(t)),o,e),`The ${n}() hook defined by ${o.hookFilePath} isn't allowed to return a value`)}(e)}catch(a){t=a}return kn.onRenderClientPromise=void 0,kn.isFirstRenderDone=!0,t})();const l=await kn.onRenderClientPromise;if(h(void 0===kn.onRenderClientPromise),!l||(await r(l),t)){if(Sn(e),g&&!l){pt(e,"onHydrationEnd");const n=ft(e,"onHydrationEnd");if(n){const{hookFn:o}=n;try{await Ke((()=>o(e)),n,e)}catch(a){if(await r(a),!t)return}if(d(!0))return}}if(!d(!0)){if(kn.isTransitioning){kn.isTransitioning=void 0;const{previousPageContext:n}=kn;h(n),pt(n,"onPageTransitionEnd");const o=ft(n,"onPageTransitionEnd");if(o){const{hookFn:n}=o;try{await Ke((()=>n(e)),o,e)}catch(a){if(await r(a),!t)return}if(d(!0))return}}Cn(n),Rn(),_n.initialRenderIsDone=!0}}}h(c===!g),function(e,t){const n=[e>0&&r.cyan("throw render('/some-url')"),t>0&&r.cyan("throw redirect('/some-url')")].filter(Boolean).join(" and ");y(e+t<=7,`Maximum chain length of 7 ${n} exceeded. Did you define an infinite loop of ${n}?`)}(s.length,l),kn.clientRoutingIsDisabled?Ze(o):await async function(){var e;const t=async e=>{await m({err:e})},n=await p();if(d())return;if(kn.isFirstRenderDone){const{previousPageContext:e}=kn;if(h(e),pt(e,"onPageTransitionStart"),!kn.isTransitioning){kn.isTransitioning=!0;const o=ft(e,"onPageTransitionStart");if(o){const e=o,{hookFn:r}=e;try{await Ke((()=>r(n)),e,n)}catch(i){return void(await t(i))}if(d())return}}}let r;if(g)r=function(){const e=function(){const e="vike_pageContext",t=document.getElementById(e);y(t,`Couldn't find #${e} (which Vike automatically injects in the HTML): make sure it exists (i.e. don't remove it and make sure your HTML isn't malformed)`);const n=t.textContent;h(n);const o=pe(n);return h(H(o,"_pageId","string")),h(H(o,"routeParams","string{}")),o}();return y(!("urlOriginal"in e),"Adding 'urlOriginal' to passToClient is forbidden"),Lt(e),W(e,{_hasPageContextFromServer:!0}),e}();else{let a,s;try{a=await wn(n)}catch(i){return void(await t(i))}if(d())return;if(a._pageId){if(s=await ln(a._pageId,n),d())return}else s=!1;if(!s)return void Ze(o);h(H(a,"_pageId","string"));const l=a._pageId&&(null==(e=kn.previousPageContext)?void 0:e._pageId)&&a._pageId===kn.previousPageContext._pageId;if(u&&l)return;r=a}h(!("urlOriginal"in r)),W(n,r);try{W(n,await en(n._pageId,n._pageFilesAll,n._pageConfigs))}catch(a){return Fn(a,n,g)?void 0:void(await t(a))}if(!d()&&(n.exports.hydrationCanBeAborted?f():v(!function(){var e,t,n,o;const r=!!(null==(t=null==(e=window.__REACT_DEVTOOLS_GLOBAL_HOOK__)?void 0:e.renderers)?void 0:t.size),i=!!(null==(o=null==(n=window.__REACT_DEVTOOLS_GLOBAL_HOOK__)?void 0:n.rendererInterfaces)?void 0:o.size),a=!!window.__vite_plugin_react_preamble_installed__;return r||i||a}(),"You seem to be using React; we recommend setting hydrationCanBeAborted to true, see https://vike.dev/hydrationCanBeAborted",{onlyOnce:!0}),!d()))if(g){let e;h(H(n,"_hasPageContextFromServer","true"));try{e=await async function(e){W(e,{isHydration:!0,_hasPageContextFromClient:!1,_hasPageContextFromServer:!0});for(const t of["data","onBeforeRender"])if(Nt(t,e)){const n=await jt(t,e);n&&h(!("urlOriginal"in n)),Object.assign(e,n)}return e}(n)}catch(i){return void(await t(i))}if(d())return;nt(n,e),await w(n)}else{let e;try{e=await It(n,!1)}catch(i){return void(await t(i))}if(d())return;if("is404ServerSideRouted"in e)return;nt(n,e.pageContextAugmented),await w(n)}}()}function Fn(e,t,n){if(!tn(e))return!1;if(n)throw In(e,!1),e;return In(e,!0),Ze(t.urlOriginal),!0}function In(e,t){h(tn(e)),kn.clientRoutingIsDisabled=!0,function(e,t,{onlyOnce:n}){var o;if(t=S(t=b(t)),n){const{alreadyLogged:e}=d,n=t;if(e.has(n))return;e.add(n)}null==(o=d.onBeforeLog)||o.call(d),d.logger(t,"info")}(0,["Failed to fetch static asset.","This usually happens when a new frontend is deployed.","Falling back to Server Routing.","(The next page navigation will use Server Routing instead of Client Routing.)"].filter(Boolean).join(" "),{onlyOnce:!0})}function jn(){return kn.renderCounter}async function An(e){if(0!==(t=e).button||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey)return;var t;const n=function(e){for(;"A"!==e.tagName;){const{parentNode:t}=e;if(!t)return null;e=t}return e}(e.target);if(!n)return;const o=n.getAttribute("href");if(nn(n))return;let r;h(o),e.preventDefault();{const e=n.getAttribute("keep-scroll-position");null!==e&&(r={preserveScroll:"false"!==e})}await On({scrollTarget:r,urlOriginal:o,isBackwardNavigation:!1})}x(),l(!1!==i.isClientRouting,"The client runtime of Server Routing as well as the client runtime of Client Routing are both being loaded. Make sure they aren't loaded both at the same time for a given page. See https://vike.dev/client-runtimes-conflict",{onlyOnce:!0,showStackTrace:!0}),l(void 0===i.isClientRouting,a,{onlyOnce:!0,showStackTrace:!0}),i.isClientRouting=!0,i.checkSingleInstance=!0,s(),async function(){(function(){var e;Tn(),tt(Tn),e=()=>_n.initialRenderIsDone&&Rn(),window.addEventListener("visibilitychange",(()=>{"visible"===document.visibilityState&&e()}))})(),ot(),window.addEventListener("scroll",function(e,t){let n=!1;return()=>{n||(n=!0,setTimeout((()=>{n=!1,e()}),t))}}(st,Math.ceil(1e3/3)),{passive:!0}),tt(st),function(){const e=window.history.pushState.bind(window.history);window.history.pushState=(t={},...n)=>{y(null==t||c(t),"history.pushState(state) argument state must be an object");const o=c(r=t)&&"_isVikeEnhanced"in r?t:{_isVikeEnhanced:!0,scrollPosition:it(),timestamp:at(),triggeredBy:"user",...t};var r;return e(o,...n)}}(),window.addEventListener("popstate",(async()=>{const e=En(),t=e.historyState.scrollPosition||void 0,n="user"===e.historyState.triggeredBy,o=e.urlWithoutHash===$n.previousState.urlWithoutHash,r=e.historyState.timestamp&&$n.previousState.historyState.timestamp?e.historyState.timestamp<$n.previousState.historyState.timestamp:null;$n.previousState=e,o&&!n?null===window.history.state?(ot(),$n.previousState=En()):Cn(t):await On({scrollTarget:t,isBackwardNavigation:r,isUserLandPushStateNavigation:n})}));const e=function(){h(0===jn());const e=On({scrollTarget:{preserveScroll:!0},isBackwardNavigation:null,isClientSideNavigation:!1});return h(1===jn()),e}();document.addEventListener("click",An),await e}();
